# set prefix key to ctrl+t
unbind C-b
set -g prefix C-a

# reload config without killing server
bind r source-file ~/.tmux.conf

# more intuitive keybindings for splitting
unbind %
bind h split-window -v
unbind '"'
bind v split-window -h

# ctrl+left/right cycles thru windows
bind-key -n C-up next
bind-key -n C-down prev

# navigate panes using jk, and ctrl+jk (no prefix)
bind-key -n C-left select-pane -t :.-
bind-key -n C-right select-pane -t :.+

# set vi keys
unbind [
bind Escape copy-mode
setw -g mode-keys vi

# send the prefix to client inside window (ala nested sessions)
bind-key g send-prefix

# toggle last window like screen
bind-key C-b last-window

# confirm before killing a window or the server
bind-key k confirm kill-window
bind-key K confirm kill-server

# toggle statusbar
bind-key b set-option status

# run a command in a new window
bind m command-prompt "split-window -h 'exec %%'"

# scrollback buffer n lines
set -g history-limit 5000

# listen for activity on all windows
set -g bell-action any

# on-screen time for display-panes in ms
set -g display-panes-time 2000

# start window indexing at one instead of zero
set -g base-index 1

# enable wm window titles
set -g set-titles on

# disable auto renaming
setw -g automatic-rename on

# border colours
set -g pane-border-fg green
set -g pane-active-border-bg default
set -g pane-active-border-fg blue

# wm window title string (uses statusbar variables)
set -g set-titles-string "tmux:#I [ #W ]"

# session initialization
bind S source-file ~/.config/tmux/session

# statusbar --------------------------------------------------------------
set -g status-interval 1
set -g status-justify centre # center align window list
set -g status-left-length 50
set -g status-left '#[fg=green,bright]#H#[default]#[fg=green] â€¢ #[default]#[fg=green,bright]#(uname -r | cut -c 1-6)#[default]'
set -g status-right '#[fg=green,bright] #(uptime | sed "s/.*://; s/,//g") #[default]'

# default statusbar colors
set -g status-fg white
set -g status-bg default
set -g status-attr dim

# default window title colors
set-window-option -g window-status-fg black
set-window-option -g window-status-bg default
set-window-option -g window-status-attr bright

# active window title colors
set-window-option -g window-status-current-fg blue
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr bright

# command/message line colors
set -g message-fg white
set -g message-bg red
set -g message-attr bright

set-window-option -g window-status-alert-fg white
set-window-option -g window-status-alert-bg red
set-window-option -g window-status-alert-attr bright

# enable clipboard
bind C-p run "tmux set-buffer \"$(xclip -o)\"; tmux paste-buffer"
bind C-c run "tmux [fg=cyan,bright]%a %Y-%m-%d %H:%M #[default]]'get-buffer | xclip"

